<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-01-27">

<title>How (Some) American Institutions Are Making Startups at Lightspeed – Best Idea Wins</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-b938e67c0c3a38245966223dfb5d7d7b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="How (Some) American Institutions Are Making Startups at Lightspeed – Best Idea Wins">
<meta property="og:description" content="">
<meta property="og:site_name" content="Best Idea Wins">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Best Idea Wins</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">How (Some) American Institutions Are Making Startups at Lightspeed</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Technology Commercialization</div>
                <div class="quarto-category">IP &amp; Licensing</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-page-left">

      <div>
      <div class="quarto-title-meta-heading">Authors</div>
      <div class="quarto-title-meta-contents">
               <p><a href="https://www.linkedin.com/in/christon-hill/">Christon Hill</a> <a href="mailto:ch1447@georgetown.edu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
               <p><a href="https://www.linkedin.com/in/matthew-lyn-6a4b8690/">Matthew Lyn</a> <a href="mailto:matthew.lyn@alacrity-analytics.com" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 27, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#forward" id="toc-forward" class="nav-link active" data-scroll-target="#forward">Forward</a></li>
  <li><a href="#what-is-express-licensing" id="toc-what-is-express-licensing" class="nav-link" data-scroll-target="#what-is-express-licensing"><strong>What Is Express Licensing?</strong></a>
  <ul class="collapse">
  <li><a href="#licensing-and-startup-activity-in-numbers" id="toc-licensing-and-startup-activity-in-numbers" class="nav-link" data-scroll-target="#licensing-and-startup-activity-in-numbers"><strong>Licensing and Startup Activity in Numbers</strong></a></li>
  <li><a href="#statewide-and-multi-institution-approaches-virginias-lab-to-launch" id="toc-statewide-and-multi-institution-approaches-virginias-lab-to-launch" class="nav-link" data-scroll-target="#statewide-and-multi-institution-approaches-virginias-lab-to-launch"><strong>Statewide and Multi-Institution Approaches: Virginia’s Lab-to-Launch</strong></a></li>
  <li><a href="#the-evolving-role-of-licensing-offices-uvas-ip-commercialization-model" id="toc-the-evolving-role-of-licensing-offices-uvas-ip-commercialization-model" class="nav-link" data-scroll-target="#the-evolving-role-of-licensing-offices-uvas-ip-commercialization-model"><strong>The Evolving Role of Licensing Offices: UVA’s IP Commercialization Model</strong></a></li>
  </ul></li>
  <li><a href="#thoughtful-policy-and-practice" id="toc-thoughtful-policy-and-practice" class="nav-link" data-scroll-target="#thoughtful-policy-and-practice"><strong>Thoughtful Policy and Practice</strong></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">





<section id="forward" class="level1">
<h1>Forward</h1>
<p>Each year, research universities across the U.S. generate more than 1,000 startup companies armed with cutting-edge technology to outcompete a fast-moving market. Normally, the complexity of negotiations required to finalize the IP licensing wouldn’t be that far removed from a Wall-street M&amp;A deal- so how did UVA and Virginia Tech shorten their IP licensing process from <em>university-standard timelines</em> (~9–12 months) to ~<em>30–60 days?</em></p>
<p>In my role as Program Manager for Georgetown Tech Ventures within <a href="https://www.linkedin.com/company/georgetown-university-otc/">Georgetown’s Office of Technology Commercialization</a> (OTC), I’ve seen multiple successful startups to market, and regardless whether they’re founded by faculty, PhD candidates, or even graduate students, the highest-performing teams approached licensing as an opportunity for strategic alignment rather than a bureaucratic hurdle to rush through.</p>
<p>I’ve seen countless times how the most consistent inflection point in a startup’s journey is the initial licensing of university technology—the moment when IP ownership, growth milestones, and estimated royalty payments converge. It’s only when all those contentious pieces align, a startup can <em>finally</em> raise capital, recruit a team, and set course for market impact.</p>
<p>That’s why we’re excited about Express Licensing; a more resource-efficient, strategically relevant, and robust IP licensing framework for getting cutting-edge research to market, <em>faster</em>.</p>
<hr>
</section>
<section id="what-is-express-licensing" class="level1">
<h1><strong>What Is Express Licensing?</strong></h1>
<p>When people talk about “express licensing,” they often imagine a program akin to the FDA’s Fast Track or maybe TSA Pre-check; someone finds a golden-ticket or you sign-up and trade scrutiny now for less later-on. But that’s not Express Licensing, it’s more embarrassingly simple than that:</p>
<p>Express Licensing frameworks create speed the same way the <em>Autobahn</em> does: by creating <em>shared-certainty around what everyone’s about to get into</em>—clear expectations, predictable, standardized terms, and shared understanding among all parties involved (founders, investors, and institutions)—speed increases because unnecessary doubt, legal-uncertainty, and structural-obstacles have been systematically removed.</p>
<p>And when licensing has created that shared-certainty early in the process, it gives <em>good science, strong founders, and serious capital</em> the confidence to move together, <em>fast</em>:</p>
<ul>
<li><p>For founders and investors, clear upfront terms—on equity, milestones, royalties, rights, and responsibilities—<em>facilitate earlier alignment and reduce ambiguity</em> during critical fundraising and growth stages.</p></li>
<li><p>For technology transfer/commercialization teams, standardized agreements cut down repetitive contract negotiation, <em>freeing up capacity</em> to focus on strategic diligence, compliance, and <em>ecosystem partnerships</em>.</p></li>
<li><p>And for regional ecosystems and the public at-large, initiatives like <a href="https://vipc.org/funding/lab-to-launch/">Lab-to-Launch</a> make licensing terms more predictable across institutions, strengthening conditions for <em>investment and growth</em>.</p></li>
</ul>
<p>In each case, the goal is the same: reduce uncertainty so founders can focus on building and scaling—not on negotiating and scrutinizing every clause.</p>
<p><em>Licensing is a startup’s commercial foundation: it either lets investor confidence build, or causes it to quietly crumble.</em></p>
<hr>
<section id="licensing-and-startup-activity-in-numbers" class="level2">
<h2 class="anchored" data-anchor-id="licensing-and-startup-activity-in-numbers"><strong>Licensing and Startup Activity in Numbers</strong></h2>
<p>Express Licensing frameworks are maturing in the midst of robust tech-transfer activity, signaling both demand <strong><em>and</em></strong> opportunity for founders and investors alike:</p>
<ul>
<li><p>National data shows U.S. universities issued ~8,800 new licenses for research-generated IP in 2021, and the share going to startups and small firms grew from 69% to 78% over a decade. Between 2015 and 2021, more than 1,000 startups licensed and commercialized academic technology each year.</p></li>
<li><p>Meanwhile, the <a href="https://www.linkedin.com/company/autm/">AUTM</a>’s (Association of University Technology Managers) <a href="https://autm.net/surveys-and-tools/surveys/licensing-survey/2024licensingsurvey">2024 Licensing Activity Survey</a> shows that technology transfer offices continue to manage “<em>high volumes of disclosures, licensing activity, and startup formation</em> even as <em>funding dynamics and staffing pressures evolve</em>.”</p></li>
</ul>
<p>It’s in this high-volume context that Express Licensing offers an additional efficiency-boost: it gives licensing offices the slack to meet new, potential-licensees <em>without</em> sacrificing their time with their existing startup portfolio. While it is a significant investment to stand-up an Express License program, the most successful universities have been reaping dividends year-over-year:</p>
<ul>
<li><p>At <a href="https://www.linkedin.com/school/university-of-georgia/">The University of Georgia</a> (UGA), the Innovation Gateway runs the <a href="https://research.uga.edu/gateway/programs-2/georgia-startup-license/"><em>Georgia Startup License</em></a>, a structured program that combines <em>market-readiness assessments</em> with <em>Express Licensing</em> agreements. UGA staff and mentors help founders <em>execute a gap analysis and action plan</em>, <em>place founders in programming such as I-Corps</em>, and after <em>satisfying predefined requirements</em>, startups unlock an <em>Express License with increasingly favorable terms</em>, including discounted incubator space and priority support services.</p></li>
<li><p>At the <a href="https://www.linkedin.com/school/mit/">Massachusetts Institute of Technology</a> (MIT), the Technology Licensing Office (TLO) offers Expedited Licenses, especially for software and other standardized intellectual property categories. Interested parties agree to MIT’s <em>pre-set terms</em> and simply return a signed agreement, which greatly reduces back-and-forth negotiation and maintains robust <em>transparency and clear expectations</em>.</p></li>
</ul>
<p>Express Licensing frameworks give startups confidence in their IP licensing early in the process, and that confidence is <em>vital:</em> it allows founders to fundraise, develop new business, and surpass their operational milestones without spending the egregious amount of time it traditionally takes on licensing-contract negotiation.</p>
<p><em>Express Licensing and Standard Terms work because they give startups, investors, and institutions the confidence to partner before they even meet.</em></p>
<hr>
</section>
<section id="statewide-and-multi-institution-approaches-virginias-lab-to-launch" class="level2">
<h2 class="anchored" data-anchor-id="statewide-and-multi-institution-approaches-virginias-lab-to-launch"><strong>Statewide and Multi-Institution Approaches: Virginia’s Lab-to-Launch</strong></h2>
<p>Having seen the success on individual campuses, entire states are aligning practices across their research-institutions to strengthen licensing frameworks at scale:</p>
<p>In Virginia, the Lab-to-Launch initiative brings together <em>six R1 research universities</em>—including the <a href="https://www.linkedin.com/school/university-of-virginia/">University of Virginia</a> (UVA) and <a href="https://www.linkedin.com/school/virginia-tech/">Virginia Tech</a>—with the <a href="https://www.linkedin.com/company/virginia-innovation-partnership-corporation/">VIPC | Virginia Innovation Partnership Corporation</a> to accelerate research commercialization. The effort hinges on the <a href="https://vipc.org/wp-content/uploads/L2L-FAQs.pdf">Virginia Fast-Track License</a>, a standardized IP licensing process that shortens traditional timelines (~9–12 months) to ~<em>30–60 days</em>, eliminates upfront and annual fees for adopting startups, and qualifies eligible startups for up to <em>$50,000 in grant funding</em>..</p>
<p>By standardizing terms across multiple universities; proactively engaging startups; making investment-grade IP digital, searchable, and accessible; and providing entrepreneur-in-residence support; <a href="https://vipc.org/wp-content/uploads/L2L-FAQs.pdf">Lab-to-Launch</a> builds clarity, predictability, and ecosystem alignment—the rocket-fuel equivalent for launching startups..</p>
<p><em>Standardized Terms build predictability, clarity, and ecosystem alignment. The by-product is unparalleled speed.</em></p>
<hr>
</section>
<section id="the-evolving-role-of-licensing-offices-uvas-ip-commercialization-model" class="level2">
<h2 class="anchored" data-anchor-id="the-evolving-role-of-licensing-offices-uvas-ip-commercialization-model"><strong>The Evolving Role of Licensing Offices: UVA’s IP Commercialization Model</strong></h2>
<p>Licensing offices today often go far beyond executing agreements, often acting as a cadre of intra-organizational consultants: The Licensing &amp; Ventures Group (LVG) at UVA partners with faculty, researchers, and investors to bring technologies to the marketplace by managing patents, negotiating licenses, and connecting innovators to resources like I-Corps training and seed funding networks.</p>
<p>Rather than treating licensing as an administrative hurdle, UVA’s LVG functions as a strategic partner, <em>guiding inventors and startup teams</em> through commercialization workflows, attracting capital, and <em>helping founders align technical development with market needs</em>. This integration of strategy and execution is designed to <em>support startup success holistically</em>.</p>
<hr>
</section>
</section>
<section id="thoughtful-policy-and-practice" class="level1">
<h1><strong>Thoughtful Policy and Practice</strong></h1>
<p>This isn’t a choice between rigor and efficiency, it’s about choosing to put the cart behind the horse where it belongs. Leading universities have already shown that clarity and structure drive efficient, high-growth outcomes for founders, investors, and institutional stakeholders alike. It’s a win-win-win.</p>
<p>Effective Express Licensing frameworks establish expectations early, reinforce founder preparedness, and align institutional goals with market realities. When universities and startups approach licensing as a strategic inflection point, rather than a series of transactional hurdles, the startups have a far stronger foundation for growth.</p>
<p>That’s why express licensing isn’t about speed. It’s about certainty—clear expectations, predictable terms, and shared understanding among founders, investors, and institutions. When licensing creates that certainty early in the process, it gives <em>good science, strong founders, and serious capital</em> the confidence to move together—and that’s how innovation jumps the intractable divide between the lab and real-world impact.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/BestIdeaWins\.github\.io\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2026, Christon Hill</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/christon-hill/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>